---
- name: Install and configure Minio Server
  hosts: all
  become: true
  gather_facts: true
  roles:
    - role: ricsanfre.minio
      minio_root_user: miniadmin
      minio_root_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        39616639633635663964626435613962396530646666653837313739626533626562393464383831
        3733656265363663316235393164386563373836366166640a633130653739303763323064306639
        30613162626437333266373734383764643335303038313663363063643165653835373235376634
        6264323332386136340a626232366463636435313730373236616436373362353066303334633532
        63383630653663396265376437333265313366306233626662323563656566643336
      minio_enable_tls: false
      minio_buckets:
        - name: bucket1
          policy: read-write
        - name: bucket2
          policy: read-write
      minio_users:
        - name: user1
          password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            38656138376539303563353261333630643062626234626364336534636335353332646663623332
            3636656530313862636364656431306665396663643838330a653932303762323735343164313366
            64336339383161303833396365626135646662633738353364616632386338343733383163336139
            3730393339656538320a653065653064343830363263653231346236346365363436313664396139
            35313537633763376231306631373335626262633736303532396635663166643562
          buckets_acl:
            - name: bucket1
              policy: read-write
            - name: bucket2
              policy: read-only
